module.exports=[627447,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"InvariantError",{enumerable:!0,get:function(){return d}});class d extends Error{constructor(a,b){super(`Invariant: ${a.endsWith(".")?a:a+"."} This is a bug in Next.js.`,b),this.name="InvariantError"}}},419137,a=>{"use strict";var b=a.i(508171),c=a.i(531899);function d(){let{data:a}=(0,c.useSession)();return a?(0,b.jsx)("button",{onClick:()=>(0,c.signOut)({callbackUrl:"/"}),style:{padding:"10px 20px",fontSize:"16px",borderRadius:"20px",border:"none",backgroundColor:"#db4437",color:"#fff",cursor:"pointer"},children:"Sign Out"}):(0,b.jsx)("button",{onClick:()=>(0,c.signIn)("google"),style:{padding:"10px 20px",fontSize:"16px",borderRadius:"20px",border:"none",backgroundColor:"#4285f4",color:"#fff",cursor:"pointer"},children:"Sign in with Google"})}a.s(["default",()=>d])},467840,a=>{"use strict";var b=a.i(579168),c=a.i(627068),d=a.i(332759),e=a.i(820935),f=a.i(567298),g=a.i(508171),h=a.i(127669),i=a.i(531899),j=a.i(25670),k=a.i(419137);function l(){let{data:a,status:b}=(0,i.useSession)(),c=(0,j.useRouter)(),d=(0,h.useRef)(!1),[e,f]=(0,h.useState)(!1);function l(a){let b=a.coords.latitude,c=a.coords.longitude;console.log(`Latitude: ${b}, Longitude: ${c}`)}function m(a){switch(a.code){case a.PERMISSION_DENIED:console.log("User denied the request for Geolocation.");break;case a.POSITION_UNAVAILABLE:console.log("Location information is unavailable.");break;case a.TIMEOUT:console.log("The request to get user location timed out.");break;case a.UNKNOWN_ERROR:console.log("An unknown error occurred.")}}return(0,h.useEffect)(()=>{if("authenticated"!==b)return;let e=a?.user?.email;if(!e||d.current)return;d.current=!0,f(!0);let g=void(navigator.geolocation?navigator.geolocation.getCurrentPosition(l,m,{enableHighAccuracy:!0,timeout:5e3,maximumAge:0}):console.log("Geolocation is not supported by this browser.")),h=process.env.NEXT_PUBLIC_BACKEND_URL??"http://localhost:5050";(async()=>{try{await fetch(`${h}/api/auth/post-login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a.user?.name??"",email:e,gps:g})})}catch(a){console.error("post-login failed:",a)}finally{c.push("/dashboard")}})()},[b,a,c]),e?(0,g.jsx)("p",{children:"Redirecting..."}):(0,g.jsxs)("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",fontFamily:"Arial, sans-serif",backgroundColor:"#f5f5f5"},children:[(0,g.jsxs)("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px 40px",backgroundColor:"#fff",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,g.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,g.jsx)("img",{src:"/favicon_new.png",alt:"Tinitiate Logo",style:{height:40,marginRight:10}}),(0,g.jsx)("span",{style:{fontSize:20,fontWeight:500,color:"#202124"},children:"Tinitiate"})]}),(0,g.jsx)(k.default,{})]}),(0,g.jsx)("main",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center",padding:"40px",textAlign:"center"},children:(0,g.jsxs)("div",{style:{maxWidth:500},children:[(0,g.jsx)("h1",{style:{fontSize:"36px",color:"#202124",marginBottom:"20px",fontWeight:500},children:"Welcome to Tinitiate"}),(0,g.jsx)("p",{style:{fontSize:"16px",color:"#5f6368",marginBottom:30},children:"Sign in with Google to continue and access tutorials"}),(0,g.jsx)(k.default,{})]})})]})}a.s(["default",()=>l],75205);var m=a.i(75205),n=a.i(509193);let o=(0,d.hoist)(m,"default"),p=(0,d.hoist)(m,"getStaticProps"),q=(0,d.hoist)(m,"getStaticPaths"),r=(0,d.hoist)(m,"getServerSideProps"),s=(0,d.hoist)(m,"config"),t=(0,d.hoist)(m,"reportWebVitals"),u=(0,d.hoist)(m,"unstable_getStaticProps"),v=(0,d.hoist)(m,"unstable_getStaticPaths"),w=(0,d.hoist)(m,"unstable_getStaticParams"),x=(0,d.hoist)(m,"unstable_getServerProps"),y=(0,d.hoist)(m,"unstable_getServerSideProps"),z=new b.PagesRouteModule({definition:{kind:c.RouteKind.PAGES,page:"/index",pathname:"/",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:f.default,Document:e.default},userland:m}),A=(0,n.getHandler)({srcPage:"/index",config:s,userland:m,routeModule:z,getStaticPaths:q,getStaticProps:p,getServerSideProps:r});a.s(["config",0,s,"default",0,o,"getServerSideProps",0,r,"getStaticPaths",0,q,"getStaticProps",0,p,"handler",0,A,"reportWebVitals",0,t,"routeModule",0,z,"unstable_getServerProps",0,x,"unstable_getServerSideProps",0,y,"unstable_getStaticParams",0,w,"unstable_getStaticPaths",0,v,"unstable_getStaticProps",0,u],467840)}];

//# sourceMappingURL=_aba6dcb3._.js.map