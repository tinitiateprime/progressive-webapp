{"version":3,"sources":["../../../../../../../Desktop/Main/progressive-webapp/node_modules/next/src/shared/lib/invariant-error.ts","turbopack:///[project]/Desktop/Main/progressive-webapp/pages/subject/subjectPage.module.css [ssr] (css module)","../../../../../../../Desktop/Main/progressive-webapp/pages/subject/%5Bsubject%5D.tsx","../../../../../../../Desktop/Main/progressive-webapp/node_modules/next/dist/esm/build/templates/pages.js"],"sourcesContent":["export class InvariantError extends Error {\n  constructor(message: string, options?: ErrorOptions) {\n    super(\n      `Invariant: ${message.endsWith('.') ? message : message + '.'} This is a bug in Next.js.`,\n      options\n    )\n    this.name = 'InvariantError'\n  }\n}\n","__turbopack_context__.v({\n  \"arrow\": \"subjectPage-module__KW1YyG__arrow\",\n  \"brand\": \"subjectPage-module__KW1YyG__brand\",\n  \"brandSub\": \"subjectPage-module__KW1YyG__brandSub\",\n  \"brandText\": \"subjectPage-module__KW1YyG__brandText\",\n  \"brandTitle\": \"subjectPage-module__KW1YyG__brandTitle\",\n  \"btn\": \"subjectPage-module__KW1YyG__btn\",\n  \"card\": \"subjectPage-module__KW1YyG__card\",\n  \"cardTop\": \"subjectPage-module__KW1YyG__cardTop\",\n  \"center\": \"subjectPage-module__KW1YyG__center\",\n  \"centerCard\": \"subjectPage-module__KW1YyG__centerCard\",\n  \"centerMsg\": \"subjectPage-module__KW1YyG__centerMsg\",\n  \"centerTitle\": \"subjectPage-module__KW1YyG__centerTitle\",\n  \"footer\": \"subjectPage-module__KW1YyG__footer\",\n  \"footerDot\": \"subjectPage-module__KW1YyG__footerDot\",\n  \"footerMuted\": \"subjectPage-module__KW1YyG__footerMuted\",\n  \"grid\": \"subjectPage-module__KW1YyG__grid\",\n  \"header\": \"subjectPage-module__KW1YyG__header\",\n  \"index\": \"subjectPage-module__KW1YyG__index\",\n  \"logo\": \"subjectPage-module__KW1YyG__logo\",\n  \"openRow\": \"subjectPage-module__KW1YyG__openRow\",\n  \"page\": \"subjectPage-module__KW1YyG__page\",\n  \"preview\": \"subjectPage-module__KW1YyG__preview\",\n  \"shell\": \"subjectPage-module__KW1YyG__shell\",\n  \"title\": \"subjectPage-module__KW1YyG__title\",\n});\n","\"use client\";\r\nimport { useRouter } from \"next/router\";\r\nimport { useEffect, useState } from \"react\";\r\nimport styles from \"./subjectPage.module.css\"; // ✅ import css module\r\n\r\ninterface Topics {\r\n  [key: string]: string;\r\n}\r\n\r\nfunction normalizeRawUrl(url: string) {\r\n  return String(url).replace(\r\n    \"https://raw.github.com/\",\r\n    \"https://raw.githubusercontent.com/\"\r\n  );\r\n}\r\n\r\nexport default function SubjectPage() {\r\n  const router = useRouter();\r\n  const { subject } = router.query;\r\n\r\n  const subjectStr = Array.isArray(subject) ? subject[0] : subject;\r\n\r\n  const [topics, setTopics] = useState<Topics>({});\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const cacheKey = subjectStr ? `md-cache-${subjectStr}` : \"\";\r\n\r\n  useEffect(() => {\r\n    if (!subjectStr) return;\r\n\r\n    localStorage.setItem(\"last-subject\", String(subjectStr));\r\n\r\n    if (cacheKey) {\r\n      const cached = localStorage.getItem(cacheKey);\r\n      if (cached) {\r\n        try {\r\n          setTopics(JSON.parse(cached));\r\n          setLoading(false);\r\n          return;\r\n        } catch {}\r\n      }\r\n    }\r\n\r\n    fetch(\"/data.json\")\r\n      .then((res) => res.json())\r\n      .then(async (data) => {\r\n        const subj = data.subjects?.[subjectStr];\r\n        if (!subj) throw new Error(\"Subject not found in data.json\");\r\n\r\n        const fetchedTopics: Topics = {};\r\n        for (const [topicName, url] of Object.entries<string>(subj)) {\r\n          try {\r\n            const u = normalizeRawUrl(url);\r\n            const r = await fetch(u);\r\n            if (!r.ok) continue;\r\n            fetchedTopics[topicName] = await r.text();\r\n          } catch (e) {\r\n            console.error(\"Fetch failed:\", topicName, e);\r\n          }\r\n        }\r\n\r\n        localStorage.setItem(cacheKey, JSON.stringify(fetchedTopics));\r\n        setTopics(fetchedTopics);\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        setError(err.message || \"Failed to load subject.\");\r\n        setLoading(false);\r\n      });\r\n  }, [subjectStr, cacheKey]);\r\n\r\n  const Header = () => (\r\n    <header className={styles.header}>\r\n      <div className={styles.brand}>\r\n        <img src=\"/favicon_new.png\" alt=\"Logo\" className={styles.logo} />\r\n        <div className={styles.brandText}>\r\n          <div className={styles.brandTitle}>{subjectStr || \"Learning\"}</div>\r\n          <div className={styles.brandSub}>Docs • Topics • Notes</div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n\r\n  if (loading || error) {\r\n    return (\r\n      <div className={styles.page}>\r\n        <Header />\r\n        <main className={styles.center}>\r\n          <div className={styles.centerCard}>\r\n            <div className={styles.centerTitle}>\r\n              {loading ? \"Loading topics...\" : \"Oops\"}\r\n            </div>\r\n            <div className={styles.centerMsg}>{error || \"Please wait…\"}</div>\r\n\r\n            {error ? (\r\n              <button className={styles.btn} onClick={() => router.push(\"/\")}>\r\n                Go Home\r\n              </button>\r\n            ) : null}\r\n          </div>\r\n        </main>\r\n\r\n        <footer className={styles.footer}>© 2026 My Learning Site</footer>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={styles.page}>\r\n      <Header />\r\n\r\n      <main className={styles.shell}>\r\n        <div className={styles.grid}>\r\n          {Object.keys(topics).map((t, idx) => (\r\n            <button\r\n              key={t}\r\n              className={styles.card}\r\n              onClick={() =>\r\n                router.push(\r\n                  `/topic/${encodeURIComponent(t)}?subject=${encodeURIComponent(\r\n                    String(subjectStr)\r\n                  )}`\r\n                )\r\n              }\r\n            >\r\n              <div className={styles.cardTop}>\r\n                <span className={styles.index}>{idx + 1}</span>\r\n                <span className={styles.title}>{t}</span>\r\n              </div>\r\n\r\n              <p className={styles.preview}>\r\n                {(topics[t] || \"\").replace(/\\n/g, \" \").slice(0, 120)}...\r\n              </p>\r\n\r\n              <div className={styles.openRow}>\r\n                <span className={styles.openText}>Open</span>\r\n                <span className={styles.arrow}>→</span>\r\n              </div>\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </main>\r\n\r\n      <footer className={styles.footer}>\r\n        <span>© 2026 My Learning Site</span>\r\n        <span className={styles.footerDot}>•</span>\r\n        <span className={styles.footerMuted}>Built for fast learning</span>\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n","import { PagesRouteModule } from \"next/dist/esm/server/route-modules/pages/module.compiled\";\nimport { RouteKind } from \"next/dist/esm/server/route-kind\";\nimport { hoist } from \"next/dist/esm/build/templates/helpers\";\n// Import the app and document modules.\nimport * as document from \"INNER_DOCUMENT\";\nimport * as app from \"INNER_APP\";\n// Import the userland code.\nimport * as userland from \"INNER_PAGE\";\nimport { getHandler } from \"next/dist/esm/server/route-modules/pages/pages-handler\";\n// Re-export the component (should be the default export).\nexport default hoist(userland, 'default');\n// Re-export methods.\nexport const getStaticProps = hoist(userland, 'getStaticProps');\nexport const getStaticPaths = hoist(userland, 'getStaticPaths');\nexport const getServerSideProps = hoist(userland, 'getServerSideProps');\nexport const config = hoist(userland, 'config');\nexport const reportWebVitals = hoist(userland, 'reportWebVitals');\n// Re-export legacy methods.\nexport const unstable_getStaticProps = hoist(userland, 'unstable_getStaticProps');\nexport const unstable_getStaticPaths = hoist(userland, 'unstable_getStaticPaths');\nexport const unstable_getStaticParams = hoist(userland, 'unstable_getStaticParams');\nexport const unstable_getServerProps = hoist(userland, 'unstable_getServerProps');\nexport const unstable_getServerSideProps = hoist(userland, 'unstable_getServerSideProps');\n// Create and export the route module that will be consumed.\nexport const routeModule = new PagesRouteModule({\n    definition: {\n        kind: RouteKind.PAGES,\n        page: \"/subject/[subject]\",\n        pathname: \"/subject/[subject]\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    distDir: process.env.__NEXT_RELATIVE_DIST_DIR || '',\n    relativeProjectDir: process.env.__NEXT_RELATIVE_PROJECT_DIR || '',\n    components: {\n        // default export might not exist when optimized for data only\n        App: app.default,\n        Document: document.default\n    },\n    userland\n});\nexport const handler = getHandler({\n    srcPage: \"/subject/[subject]\",\n    config,\n    userland,\n    routeModule,\n    getStaticPaths,\n    getStaticProps,\n    getServerSideProps\n});\n\n//# sourceMappingURL=pages.js.map\n"],"names":["InvariantError","Error","constructor","message","options","endsWith","name"],"mappings":"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","ignoreList":[0,3]}